import{e as m,r as o,j as e,T as r,b as h,c as u,f,C as g,A as j}from"./index-BhtxJkHA.js";import{F as v}from"./Footer-CpNF87W9.js";import{D as C,a as w,b as k}from"./dialog-R0ziYrf0.js";import{V as y}from"./ViewTicketStep-DLi5wT69.js";import{f as N,a as b}from"./index-BMBbtaCK.js";import{X as H}from"./x-C3V0CQLz.js";/* empty css                 */import"./index-Bvcx54Yj.js";/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=m("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=m("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function d(t){var i,n;const[l,a]=o.useState(!1);console.log(t);const s=()=>{t.shareUrl&&(navigator.share?navigator.share({title:"Check out this ticket!",url:t.shareUrl}).catch(console.error):window.open(t.shareUrl,"_blank"))};return e.jsxs(C,{open:l,onOpenChange:c=>{a(c)},children:[e.jsxs("div",{className:"relative w-full bg-white flex p-4 shadow-xl rounded-3xl gap-4 border",onClick:()=>a(!0),children:[e.jsxs("div",{className:"absolute flex items-center gap-2 right-10",children:[e.jsx(r,{title:"VIEW",placement:"top",arrow:!0,children:e.jsx(U,{onClick:()=>a(!0),className:"size-8 text-gray-400 hover:text-black"})}),e.jsx(r,{title:"DOWNLOAD",placement:"top",arrow:!0,children:e.jsx(h,{to:t.ticketPdf,target:"blank",children:e.jsx(E,{className:"size-8 text-gray-400 hover:text-black"})})})]}),e.jsx("div",{className:"max-w-[10rem] max-h-[10rem] object-cover rounded-2xl",children:(i=t==null?void 0:t.event)!=null&&i.posterUrl?e.jsx("img",{src:t==null?void 0:t.event.posterUrl,alt:"Event Logo",className:"object-cover w-full h-full rounded-2xl"}):e.jsx("div",{className:"bg-gray-200 w-full h-full rounded-2xl"})}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-[#B8B8B8] mt-4",children:N(new Date(t==null?void 0:t.eventDate))}),e.jsx("h1",{className:"font-medium md:text-[1.3rem] text-[0.9rem]",children:(n=t==null?void 0:t.event)==null?void 0:n.title}),e.jsxs("p",{className:"text-[0.8rem] md:text-[1rem]",children:[e.jsx("span",{className:"font-medium",children:t==null?void 0:t.venueAddress.name}),e.jsx("br",{}),t==null?void 0:t.venueAddress.city,", ",t==null?void 0:t.venueAddress.country,","," ",t==null?void 0:t.venueAddress.zipcode]}),e.jsx("p",{className:"font-medium",children:b(t==null?void 0:t.totalAmount,t!=null&&t.currency?t.currency:"EUR")})]})]}),e.jsx(w,{className:"overflow-y-auto p-1 max-w-screen-lg max-h-[calc(100dvh)]",children:e.jsxs("div",{className:"p-12 backdrop-blur-md",children:[e.jsxs(k,{className:"absolute right-4 top-4 opacity-70 rounded-sm ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(H,{className:"size-6"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),e.jsx(y,{eventsData:t,onShareClicked:s,showTitle:!1,instantDownload:!1})]})})]})}const x={twoTickets:t=>e.jsxs("svg",{width:"256",height:"258",viewBox:"0 0 256 258",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsxs("mask",{id:"mask0_1594_13077",maskUnits:"userSpaceOnUse",x:"41",y:"20",width:"179",height:"218",children:[e.jsx("path",{d:"M160 161.124C176 161.124 186.667 171.19 186.667 182.541H218.667V21.916H186.667C186.667 32.6243 176 43.3327 160 43.3327C144 43.3327 133.333 32.6243 133.333 21.916H101.333V96.8743",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M160 236.083H128C128 224.732 117.333 214.666 101.333 214.666C85.3332 214.666 74.6665 224.732 74.6665 236.083H42.6665V75.4577H74.6665C74.6665 86.166 85.3332 96.8744 101.333 96.8744C117.333 96.8744 128 86.166 128 75.4577H160V236.083Z",fill:"#555555",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M74.6664 139.708C80.5575 139.708 85.3331 134.913 85.3331 128.999C85.3331 123.085 80.5575 118.291 74.6664 118.291C68.7754 118.291 63.9998 123.085 63.9998 128.999C63.9998 134.913 68.7754 139.708 74.6664 139.708Z",fill:"white"}),e.jsx("path",{d:"M101.333 139.708C107.224 139.708 112 134.913 112 128.999C112 123.085 107.224 118.291 101.333 118.291C95.4421 118.291 90.6665 123.085 90.6665 128.999C90.6665 134.913 95.4421 139.708 101.333 139.708Z",fill:"white"}),e.jsx("path",{d:"M128 139.708C133.891 139.708 138.667 134.913 138.667 128.999C138.667 123.085 133.891 118.291 128 118.291C122.109 118.291 117.333 123.085 117.333 128.999C117.333 134.913 122.109 139.708 128 139.708Z",fill:"white"})]}),e.jsx("g",{mask:"url(#mask0_1594_13077)",children:e.jsx("path",{d:"M0 0.5H256V257.5H0V0.5Z",fill:"black"})})]})},D=e.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.75 1.25C5.75 1.05109 5.67098 0.860321 5.53033 0.719669C5.38968 0.579018 5.19891 0.5 5 0.5H2C1.60218 0.5 1.22064 0.658035 0.93934 0.939341C0.658035 1.22064 0.5 1.60217 0.5 2L0.5 20C0.5 20.3978 0.658035 20.7794 0.93934 21.0607C1.22064 21.342 1.60218 21.5 2 21.5H5C5.19891 21.5 5.38968 21.421 5.53033 21.2803C5.67098 21.1397 5.75 20.9489 5.75 20.75C5.75 20.1533 5.98705 19.581 6.40901 19.159C6.83097 18.7371 7.40326 18.5 8 18.5C8.59674 18.5 9.16903 18.7371 9.59099 19.159C10.0129 19.581 10.25 20.1533 10.25 20.75C10.25 20.9489 10.329 21.1397 10.4697 21.2803C10.6103 21.421 10.8011 21.5 11 21.5H14C14.3978 21.5 14.7794 21.342 15.0607 21.0607C15.342 20.7794 15.5 20.3978 15.5 20L15.5 2C15.5 1.60217 15.342 1.22064 15.0607 0.939341C14.7794 0.658035 14.3978 0.5 14 0.5H11C10.8011 0.5 10.6103 0.579018 10.4697 0.719669C10.329 0.860321 10.25 1.05109 10.25 1.25C10.25 1.84674 10.0129 2.41903 9.59099 2.84099C9.16903 3.26295 8.59674 3.5 8 3.5C7.40326 3.5 6.83097 3.26295 6.40901 2.84099C5.98705 2.41903 5.75 1.84674 5.75 1.25ZM11.675 20C11.5029 19.1523 11.043 18.3901 10.3732 17.8427C9.70343 17.2953 8.86502 16.9962 8 16.9962C7.13498 16.9962 6.29657 17.2953 5.62681 17.8427C4.95705 18.3901 4.49714 19.1523 4.325 20H2L2 14.75H14V20H11.675ZM11.675 2H14L14 13.25H2L2 2H4.325C4.49714 2.84772 4.95705 3.60986 5.62681 4.15728C6.29657 4.70471 7.13498 5.00376 8 5.00376C8.86502 5.00376 9.70343 4.70471 10.3732 4.15728C11.043 3.60986 11.5029 2.84772 11.675 2Z",fill:"none",stroke:"black"})}),L=e.jsx("svg",{width:"20",height:"16",viewBox:"0 0 22 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-pink-700",children:e.jsx("path",{d:"M21.5 6.5625C21.5 13.125 11.7697 18.4369 11.3553 18.6562C11.2461 18.715 11.124 18.7458 11 18.7458C10.876 18.7458 10.7539 18.715 10.6447 18.6562C10.2303 18.4369 0.5 13.125 0.5 6.5625C0.501737 5.02146 1.11468 3.54404 2.20436 2.45436C3.29404 1.36468 4.77146 0.751737 6.3125 0.75C8.24844 0.75 9.94344 1.5825 11 2.98969C12.0566 1.5825 13.7516 0.75 15.6875 0.75C17.2285 0.751737 18.706 1.36468 19.7956 2.45436C20.8853 3.54404 21.4983 5.02146 21.5 6.5625Z"})}),M=()=>{const[t,l]=o.useState([]),a=async()=>{try{const s=await u.get("https://api.kafsco.com/api/v1/events/upcoming-events?city=Dublin");console.log(s.data.data),l(s.data.data)}catch(s){console.log(s)}};return o.useEffect(()=>{a()},[]),e.jsxs("div",{className:"bg-white rounded-3xl space-y-2 pb-4 border-2",children:[e.jsx("h1",{className:"px-6 py-4 font-semibold",children:"Upcoming events"}),t.length===0?e.jsx("p",{className:"text-center",children:"No upcoming events"}):e.jsxs("div",{children:[" ",t.map((s,i)=>e.jsx(T,{month:s.month,day:s.day,title:s.title,isBooked:s.isBooked,isLiked:s.isLiked,slug:s.slug},i))," "]})]})},T=({month:t,day:l,title:a,isBooked:s,isLiked:i,slug:n})=>e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-5 items-center font-medium px-4 py-1",children:[e.jsxs("div",{className:"col-span-1 gap-",children:[e.jsx("p",{className:"text-sm text-center",children:t}),e.jsx("p",{className:"text-2xl text-center font-semibold",children:l})]}),e.jsxs("div",{className:"text-sm col-span-3 hover:underline hover:cursor-pointer",children:[" ",e.jsx(h,{to:`/event/${n}`,children:a})]}),e.jsxs("div",{className:"flex gap-2 col-span-1 ml-4 ",children:[i?L:"",s?D:""]})]})}),B=async()=>(await u(j.bookingRoutes.getTicket)).data.data;function _(){const{data:t}=f({queryKey:["tickets"],queryFn:B}),l=t==null?void 0:t.bookings.filter(n=>!n.isPastEvent),a=t==null?void 0:t.bookings.filter(n=>n.isPastEvent),[s,i]=o.useState("Upcoming Events");return e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{className:"flex flex-col gap-8 px-4 lg:px-40 mb-10",children:[" ",e.jsx("div",{className:"flex w-full items-center justify-between",children:e.jsx("h3",{className:"md:text-[1.6rem] 2xl:text-[2rem] text-[1.5rem] font-medium",children:"My Tickets"})}),e.jsxs("div",{className:"w-full flex flex-col md:flex-row justify-between gap-24",children:[e.jsxs("div",{className:"flex w-full flex-col items-center gap-4 hover:cursor-pointer",children:[e.jsxs("div",{className:"flex bg-white py-1 w-full rounded-full border px-1",children:[e.jsxs("div",{onClick:()=>i("Upcoming Events"),className:`w-1/2 py-3 text-center text-black font-medium transform transition-all duration-300   ${s==="Upcoming Events"?"bg-[#677497] rounded-full text-white":""}`,children:["Upcoming Bookings"," "]})," ",e.jsx("div",{onClick:()=>i("Past Events"),className:`w-1/2 py-3 text-center text-black font-medium transform transition-all duration-300  ${s==="Past Events"?"bg-[#677497] rounded-full text-white":""}`,children:"Past Bookings"})," "]}),s==="Upcoming Events"?e.jsx("div",{className:"flex w-full flex-col gap-4",children:l&&l.length===0?e.jsxs("p",{className:"flex flex-col items-center gap-2 pt-16",children:[e.jsx(x.twoTickets,{className:"size-52"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"You don't seem to have any recent bookings"})]}):l==null?void 0:l.map((n,c)=>e.jsx(d,{...n},c))}):e.jsx("div",{className:"flex w-full flex-col gap-4",children:a&&a.length===0?e.jsxs("p",{className:"flex flex-col items-center gap-2 pt-16",children:[e.jsx(x.twoTickets,{className:"size-52"}),e.jsx("span",{className:"text-sm text-neutral-500",children:"You don't seem to have any past bookings"})]}):a==null?void 0:a.map((n,c)=>e.jsx(d,{...n},c))})]}),e.jsxs("div",{className:"space-y-6 w-[330px]",children:[e.jsx("div",{children:e.jsx(g,{})})," ",e.jsx("div",{className:"rounded-3xl h-fit top-[10vh] bg-white",children:e.jsx(M,{})})]})]})]}),e.jsx(v,{})]})}export{_ as default};
