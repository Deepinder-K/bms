import{a as O,r as s,h as R,g as _,j as e,b as N,L as z,_ as r}from"./index-BhtxJkHA.js";import{C as B}from"./mui-tel-input.es-Blx5k0Me.js";import{A as D}from"./index-gSamF5al.js";import{F as G}from"./Footer-CpNF87W9.js";import"./Select-CPf2FDIU.js";import"./Modal-D1OmbiPF.js";import"./ownerWindow-BpsX-YRz.js";import"./Paper-28kvjovC.js";import"./debounce-Be36O1Ab.js";import"./isMuiElement-BXfcTvV0.js";const I="/assets/register-Cw3u2qrO.jpg",Y=O(()=>{const[i,v]=s.useState(""),[o,b]=s.useState(""),[c,w]=s.useState(""),[y,x]=s.useState(""),[C,S]=s.useState(""),[k,q]=s.useState(""),[m,P]=s.useState(""),[d,E]=s.useState(""),[F,h]=s.useState(!1),{root:{auth:p}}=R(),f=_(),l=n=>{const{name:t,value:a}=n.target;switch(t){case"firstName":v(a);break;case"lastName":b(a);break;case"gender":w(a);break;case"phone":x(a);break;case"email":P(a);break;case"password":E(a);break}},L=async n=>{var t,a,g,j;n.preventDefault();try{if(h(!0),d.length<6){r.error("Password must be more than 6 letters");return}if(i.length===0){r.error("First name is required");return}if(o.length===0){r.error("Last name is required");return}if(m.length===0){r.error("Email name is required");return}await p.register(m,d,i,o,c,C,k),f("/")}catch(u){if(u instanceof D)if(((t=u.response)==null?void 0:t.status)===409)r.error("User already exists. Please login.");else{const A=(j=(g=(a=u.response)==null?void 0:a.data)==null?void 0:g.message)==null?void 0:j.details.map(U=>U.message).join(",");r.error(A)}else r.error("Please try again later.")}finally{h(!1)}};return s.useEffect(()=>{p.isAuthenticated&&f("/")},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex h-screen ",children:[e.jsx("div",{className:"md:w-1/2 md:block hidden",children:e.jsx("img",{src:I,className:"h-full w-full object-cover",alt:""})}),e.jsx("div",{className:"h-screen w-full md:w-1/2 flex justify-center items-center",children:e.jsx("div",{className:"md:px-[10vw]",children:e.jsxs("form",{onSubmit:L,className:"h-full p-4 w-full space-y-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(N,{to:"/",children:e.jsx("img",{src:"/logo-nobg.png",alt:"logo",className:"max-h-[10vh] max-w-[40vw]"})}),e.jsx("h1",{className:"text-3xl font-bold text-center",children:"User Sign Up"})]}),e.jsx("div",{className:"w-full",children:e.jsx("input",{type:"text",name:"firstName",id:"firstName",required:!0,value:i,placeholder:"First name *",className:"w-full",onChange:l})}),e.jsx("div",{children:e.jsx("input",{type:"text",name:"lastName",id:"lastName",required:!0,placeholder:"Last name *",value:o,className:"w-full",onChange:l})}),e.jsxs("div",{className:"flex w-full gap-8 custom-radio",children:[e.jsxs("label",{className:"flex gap-2",children:[e.jsx("input",{type:"radio",name:"gender",value:"male",required:!0,checked:c==="male",onChange:l}),"Male"]}),e.jsxs("label",{className:"flex gap-2",children:[e.jsx("input",{type:"radio",name:"gender",value:"female",required:!0,checked:c==="female",onChange:l}),"Female"]})]}),e.jsx("div",{className:"",children:e.jsx(B,{value:y,required:!0,onChange:(n,t)=>{x(n),S(t.nationalNumber),q(`+${t.countryCallingCode}`)},name:"phone",id:"phone",placeholder:"Phone*",defaultCountry:"US",variant:"outlined",className:"w-full bg-white"})}),e.jsx("div",{className:"",children:e.jsx("input",{type:"email",name:"email",required:!0,value:m,placeholder:"Email Address *",id:"email",className:"w-full",onChange:l})}),e.jsx("div",{className:"",children:e.jsx("input",{type:"password",value:d,required:!0,placeholder:"Password *",name:"password",id:"password",className:"w-full",onChange:l})}),e.jsx("div",{className:"w-full text-[1rem] flex flex-col gap-1",children:e.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-4 bg-black w-full text-white font-bold py-2 px-4 rounded",children:["Sign Up",F&&e.jsx(z,{className:"size-4 animate-spin"})]})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"h-[2px] bg-black"}),e.jsxs("p",{className:"text-center text-sm",children:["By registering, you agree to KAFSCO's"," ",e.jsx("a",{target:"blank",href:"/terms",className:"text-blue-600 font-bold",children:"T&Cs"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"text-blue-600 font-bold",children:"Privacy Policy."})]}),e.jsxs("div",{className:"flex justify-center items-center font-semibold gap-x-2",children:["Already a member ?"," ",e.jsx(N,{to:"/login",className:"text-[#8C3E87]",children:"Login"})]})]})]})})})]}),e.jsx(G,{})]})});export{Y as default};
