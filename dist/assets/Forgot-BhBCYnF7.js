import{a as j,r,g,h as v,j as e,b as m,L as w,_ as c,c as b}from"./index-BhtxJkHA.js";import{i as N}from"./login-Bsdcv5bL.js";import{F as y}from"./Footer-CpNF87W9.js";const S=j(()=>{const[t,i]=r.useState(""),[l,n]=r.useState(!1),o=g(),{root:{auth:d}}=v();r.useEffect(()=>{d.isAuthenticated&&o("/")},[d.isAuthenticated,o]);const x=s=>{const{name:a,value:p}=s.target;switch(a){case"email":i(p);break}},f=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),u=async s=>(await b.post("https://api.kafsco.com/api/v1/users/forgot-password",{email:s})).data,h=async s=>{if(s.preventDefault(),!f(t)){c.error("Please enter a valid email address.");return}n(!0);try{await u(t),c.success("Password reset email sent successfully!"),i("")}catch(a){c.error(a.response.data.message)}finally{n(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:flex w-full justify-between",children:[e.jsx("div",{className:"h-screen flex justify-center w-full ",children:e.jsx("div",{className:"flex justify-center h-full w-full",children:e.jsxs("form",{onSubmit:h,className:"h-full flex flex-col justify-center gap-6 w-[25rem]",children:[e.jsxs("div",{className:"flex flex-col gap-2 text-center items-center",children:[e.jsx(m,{to:"/",children:e.jsx("img",{src:"/logo-nobg.png",alt:"logo",className:"max-h-[10vh] max-w-[40vw]"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Forgot Password?"})]}),e.jsx("div",{className:"flex flex-col gap-4",children:e.jsx("div",{className:"",children:e.jsx("input",{type:"email",name:"email",value:t,placeholder:"Email Address",id:"email",className:"w-full border p-2 rounded",onChange:x,disabled:l})})}),e.jsx("div",{className:"w-full text-[1rem] flex flex-col gap-1",children:e.jsxs("button",{type:"submit",className:"bg-black w-full text-white font-bold py-2 px-4 rounded flex justify-center items-center gap-2",disabled:l,children:["Send Link",l&&e.jsx(w,{className:"size-4 animate-spin"})]})}),e.jsxs("div",{className:"flex w-full justify-around gap-2 items-center",children:[e.jsx("div",{className:"h-[2px] w-full bg-black"}),e.jsx("div",{className:"text-center",children:"or"}),e.jsx("div",{className:"w-full h-[2px] bg-black"})]}),e.jsxs("div",{className:"text-[0.9rem] text-center font-bold",children:["Need Help ?",e.jsxs(m,{to:"/contactus",className:"text-[#8C3E87] pl-1",children:[" ","Contact Us"]})]})]})})}),e.jsx("div",{className:"md:block hidden w-[70vw] md:w-full",children:e.jsx("img",{src:N,className:"h-screen w-full object-cover",alt:""})})]}),e.jsx(y,{})]})});export{S as default};
